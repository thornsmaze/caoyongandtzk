"use strict";function asyncGeneratorStep(e,n,a,t,s,i,r){try{var o=e[i](r),c=o.value}catch(e){return void a(e)}o.done?n(c):Promise.resolve(c).then(t,s)}function _asyncToGenerator(o){return function(){var e=this,r=arguments;return new Promise(function(n,a){var t=o.apply(e,r);function s(e){asyncGeneratorStep(t,n,a,s,i,"next",e)}function i(e){asyncGeneratorStep(t,n,a,s,i,"throw",e)}s(void 0)})}}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,a){return n&&_defineProperties(e.prototype,n),a&&_defineProperties(e,a),e}var index=0,flag=!0,time=null,search_arr=[],searchTime=null,searchIndex=0,nav_right=document.querySelector(".nav .right");function bindLogin(e,n){var a="";a+='\n        <div class="right">\n            <span class="on '.concat(n?"active":"",'">\n                <a href="./login.html">登录</a><span>|</span>\n                <a href="./login.html">注册</a><span>|</span>\n            </span>\n            <span class="off ').concat(n?"active":"",'">\n                <ul>\n                    <li><a>').concat(n,'<i class="iconfont-arrow-down-mini"></i></a></li>\n                    <li><a href="./PersonalCenter.html">个人中心</a></li>\n                    <li><a href="">评价晒单</a></li>\n                    <li><a href="">我的喜欢</a></li>\n                    <li><a href="">小米账户</a></li>\n                    <li><a href="">退出登录</a></li>\n                </ul>\n            </span>\n            <span>|</span><a class="tongzhi" href="">消息通知</a>\n            \x3c!-- 购物车 --\x3e\n            <div class="car">\n                <a class="list_car" href="./cart.html"><span class="iconfont-cart"></span>购物车<span> (0) </span></a>\n                \x3c!-- 购物车下拉菜单 --\x3e\n                <div class="list_car_all">购物车中还没有商品赶紧选购吧</div>\n            </div>\n        </div>'),e.innerHTML=a}getCookie("nickname")&&bindLogin(nav_right,getCookie("nickname")),$(".car").hover(function(){$(".list_car_all").stop(),$(".list_car").css({color:"#ff6700","background-color":"#fff"}),$(".list_car_all").slideDown(200,"linear")},function(){$(".list_car_all").stop(),$(".list_car_all").slideUp(200,"linear",function(){$(".list_car").css({color:"#b0b0b0","background-color":"#424242"})})});for(var i=0;i<$(".search_tips a").length;i++)search_arr.push($(".search_tips a").eq(i).text());var search_flag=!0;function searchAutoPlay(){searchTime=setInterval(function(){++searchIndex==search_arr.length&&(searchIndex=0),$(".searchBtn").attr("placeholder",search_arr[searchIndex])},4e3)}function bindSearch(){var n="";search_arr.forEach(function(e){n+="\n            <li><a>".concat(e,"</a></li>\n            "),search_tips.innerHTML=n})}$(".searchBtn").on("focus",function(){search_flag=!1,$(".search_tips").css("display","block").siblings().css("border","1px solid #ff6700"),$(".searchBtn").val()||bindSearch()}),$(".searchBtn").on("blur",function(){search_flag=!0,$(".search_tips").css("display","none").siblings().css("border","1px solid #e0e0e0")}),$(".search").hover(function(){search_flag&&$(".search_tips").siblings().css("border-color","#bbb")},function(){search_flag&&$(".search_tips").siblings().css("border-color","#e0e0e0")}),searchAutoPlay();var navMenuFlag=!0;$(".header_nav a").on("mouseover",function(){navMenuFlag&&(navMenuFlag=!1,$(this).addClass("active").parent().siblings().find("a").removeClass("active"),$(this).attr("data-index")&&($(".searchBtn").trigger("blur"),$(".navMenu_list").eq($(this).attr("data-index")-1).addClass("active").siblings().removeClass("active"),$(".navMenu").css({height:"229px","border-top":"1px solid #e0e0e0","box-shadow":"0 3px 4px rgb(0, 0, 0,.18)"})))}),$(".navMenu").on("mouseover",function(){$(".navMenu").css({height:"229px","border-top":"1px solid #e0e0e0","box-shadow":"0 3px 4px rgb(0, 0, 0,.18)"})}),$(".header_nav a span").on("mouseover",function(){$(this).parent().addClass("active").parent().siblings().find("a").removeClass("active"),$(this).parent().attr("data-index")?($(".searchBtn").trigger("blur"),$(".navMenu_list").eq($(this).parent().attr("data-index")-1).addClass("active").siblings().removeClass("active"),$(".navMenu").css({height:"229px","border-top":"1px solid #e0e0e0","box-shadow":"0 3px 4px rgb(0, 0, 0,.18)"})):$(".navMenu").css({height:"0","border-top":"none","box-shadow":"none"})}),$(".allList").on("mouseover",function(){$(".banner_nav").addClass("active")}),$(".header").on("mouseleave",function(){$(".banner_nav").removeClass("active")}),$(".header_nav").on("mouseleave",function(){navMenuFlag=!0,$(".header_nav li a").removeClass("active"),$(".navMenu").css({height:"0","border-top":"none","box-shadow":"none"})}),$(".navMenu").on("mouseleave",function(){$(".navMenu").css({height:"0","border-top":"none","box-shadow":"none"})}),$(".banner_nav li").on("mouseover",function(){$(".banner_item").css("display","block"),$(".bannerMenu").eq($(this).index()).addClass("active").siblings().removeClass("active")}),$(".bannerMenu").on("mouseover",function(){$(".banner_item").css("display","block")}),$(".banner_nav li").on("mouseout",function(){$(".banner_item").css("display","none")}),$(".bannerMenu").on("mouseout",function(){$(".banner_item").css("display","none")});var right_nav=document.querySelector(".right_nav");right_nav.addEventListener("mouseover",function(e){e=(e=e||window.event).target||e.srcElement;"A"===e.nodeName&&(e.children[0].children[0].classList.remove("active"),e.children[0].children[1].classList.add("active"))}),right_nav.addEventListener("mouseout",function(e){e=(e=e||window.event).target||e.srcElement;"A"===e.nodeName&&(e.children[0].children[1].classList.remove("active"),e.children[0].children[0].classList.add("active"))}),right_nav.addEventListener("click",function(e){-1!=((e=e||window.event).target||e.srcElement).className.indexOf("re")&&document.documentElement.scrollTo({top:0,behavior:"smooth"})}),document.addEventListener("scroll",function(){900<=document.documentElement.scrollTop&&right_nav.children[5].classList.add("active"),document.documentElement.scrollTop<900&&right_nav.children[5].classList.remove("active")});var inp=document.querySelector(".searchBtn");inp.addEventListener("input",function(){var e=this.value.trim(),n=document.createElement("script");n.src="https://www.baidu.com/sugrec?pre=1&p=3&ie=utf-8&json=1&prod=pc&from=pc_web&sugsid=33425,1444,33358,33306,31253,33286,33351,33313,33312,33311,33310,33413,33309,26350,33308,33307,22158,33389,33370&wd=".concat(e,"&req=2&csor=2&pwd=a&cb=bindHtml&_=1609848625420"),document.body.appendChild(n),n.remove()});var search_tips=document.querySelector(".search_tips");function bindHtml(e){var n;e.g?(n="",e.g.forEach(function(e){n+="\n            <li><a>".concat(e.q,"</a></li>\n            ")}),search_tips.innerHTML=n,search_tips.style.display="block"):search_tips.style.display="none"}var banner_text=document.querySelector(".banner_nav");banner_text.addEventListener("click",function(e){e=(e=e||window.event).target||e.srcElement;"A"==e.nodeName&&window.sessionStorage.setItem("listone",e.innerText)});var BindMain=function(){function n(e){_classCallCheck(this,n),this.ele=document.querySelector(e),this.str="",this.session="",this.init()}var e;return _createClass(n,[{key:"init",value:function(){this.getSession(),this.getData()}},{key:"getSession",value:function(){this.session=window.sessionStorage.getItem("listone")}},{key:"getData",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("../server/listfirst.php",{listone:this.session},null,"json");case 2:n=e.sent,this.bindList(n);case 4:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"bindList",value:function(e){this.str+='\n                <h3 class="title">'.concat(this.session,"</h3>\n                ");for(var n=0;n<e.list.length;n++)this.str+='\n                    <div class="item">\n                        <a class="itemA" data-id="'.concat(e.list[n].id,'" href="./GeneralDetails.html"><img src="').concat(e.list[n].good_img1,'" alt=""></a>\n                        <div class="title_wap">\n                            <h4>').concat(e.list[n].good_name,"</h4>\n                            <p>").concat(e.list[n].price,"<span>元起</span></p>\n                        </div>\n                    </div>\n                ");this.ele.innerHTML=this.str,this.setSession()}},{key:"setSession",value:function(){this.ele.addEventListener("click",function(e){e=(e=e||window.event).target||e.srcElement;"itemA"==e.className&&window.sessionStorage.setItem("id",e.getAttribute("data-id"))})}}]),n}();new BindMain(".main");