"use strict";function asyncGeneratorStep(n,a,e,t,i,s,c){try{var o=n[s](c),r=o.value}catch(n){return void e(n)}o.done?a(r):Promise.resolve(r).then(t,i)}function _asyncToGenerator(o){return function(){var n=this,c=arguments;return new Promise(function(a,e){var t=o.apply(n,c);function i(n){asyncGeneratorStep(t,a,e,i,s,"next",n)}function s(n){asyncGeneratorStep(t,a,e,i,s,"throw",n)}i(void 0)})}}var index=0,flag=!0,time=null,search_arr=[],searchTime=null,searchIndex=0,nav_right=document.querySelector(".nav .right");function bindLogin(n,a){var e="";e+='\n        <div class="right">\n            <span class="on '.concat(a?"active":"",'">\n                <a href="./login.html">登录</a><span>|</span>\n                <a href="./login.html">注册</a><span>|</span>\n            </span>\n            <span class="off ').concat(a?"active":"",'">\n                <ul>\n                    <li><a>').concat(a,'<i class="iconfont-arrow-down-mini"></i></a></li>\n                    <li><a href="./PersonalCenter.html">个人中心</a></li>\n                    <li><a href="">评价晒单</a></li>\n                    <li><a href="">我的喜欢</a></li>\n                    <li><a href="">小米账户</a></li>\n                    <li><a href="">退出登录</a></li>\n                </ul>\n            </span>\n            <span>|</span><a class="tongzhi" href="">消息通知</a>\n            \x3c!-- 购物车 --\x3e\n            <div class="car">\n                <a class="list_car" href="./cart.html"><span class="iconfont-cart"></span>购物车<span> (0) </span></a>\n                \x3c!-- 购物车下拉菜单 --\x3e\n                <div class="list_car_all">购物车中还没有商品赶紧选购吧</div>\n            </div>\n        </div>'),n.innerHTML=e}getCookie("nickname")&&bindLogin(nav_right,getCookie("nickname")),$(".car").hover(function(){$(".list_car_all").stop(),$(".list_car").css({color:"#ff6700","background-color":"#fff"}),$(".list_car_all").slideDown(200,"linear")},function(){$(".list_car_all").stop(),$(".list_car_all").slideUp(200,"linear",function(){$(".list_car").css({color:"#b0b0b0","background-color":"#424242"})})});for(var i=0;i<$(".search_tips a").length;i++)search_arr.push($(".search_tips a").eq(i).text());var search_flag=!0;function searchAutoPlay(){searchTime=setInterval(function(){++searchIndex==search_arr.length&&(searchIndex=0),$(".searchBtn").attr("placeholder",search_arr[searchIndex])},4e3)}$(".searchBtn").on("focus",function(){search_flag=!1,$(".search_tips").css("display","block").siblings().css("border","1px solid #ff6700"),$(".searchBtn").val()||bindSearch()}),$(".searchBtn").on("blur",function(){search_flag=!0,$(".search_tips").css("display","none").siblings().css("border","1px solid #e0e0e0")}),$(".search").hover(function(){search_flag&&$(".search_tips").siblings().css("border-color","#bbb")},function(){search_flag&&$(".search_tips").siblings().css("border-color","#e0e0e0")}),searchAutoPlay();var navMenuFlag=!0;function bindSearch(){var a="";search_arr.forEach(function(n){a+="\n    <li><a>".concat(n,"</a></li>\n    "),search_tips.innerHTML=a})}$(".header_nav a").on("mouseover",function(){navMenuFlag&&(navMenuFlag=!1,$(this).addClass("active").parent().siblings().find("a").removeClass("active"),$(this).attr("data-index")&&($(".searchBtn").trigger("blur"),$(".navMenu_list").eq($(this).attr("data-index")-1).addClass("active").siblings().removeClass("active"),$(".navMenu").css({height:"229px","border-top":"1px solid #e0e0e0","box-shadow":"0 3px 4px rgb(0, 0, 0,.18)"})))}),$(".navMenu").on("mouseover",function(){$(".navMenu").css({height:"229px","border-top":"1px solid #e0e0e0","box-shadow":"0 3px 4px rgb(0, 0, 0,.18)"})}),$(".header_nav a span").on("mouseover",function(){$(this).parent().addClass("active").parent().siblings().find("a").removeClass("active"),$(this).parent().attr("data-index")?($(".searchBtn").trigger("blur"),$(".navMenu_list").eq($(this).parent().attr("data-index")-1).addClass("active").siblings().removeClass("active"),$(".navMenu").css({height:"229px","border-top":"1px solid #e0e0e0","box-shadow":"0 3px 4px rgb(0, 0, 0,.18)"})):$(".navMenu").css({height:"0","border-top":"none","box-shadow":"none"})}),$(".allList").on("mouseover",function(){$(".banner_nav").addClass("active")}),$(".header").on("mouseleave",function(){$(".banner_nav").removeClass("active")}),$(".header_nav").on("mouseleave",function(){navMenuFlag=!0,$(".header_nav li a").removeClass("active"),$(".navMenu").css({height:"0","border-top":"none","box-shadow":"none"})}),$(".navMenu").on("mouseleave",function(){$(".navMenu").css({height:"0","border-top":"none","box-shadow":"none"})}),$(".banner_nav li").on("mouseover",function(){$(".banner_item").css("display","block"),$(".bannerMenu").eq($(this).index()).addClass("active").siblings().removeClass("active")}),$(".bannerMenu").on("mouseover",function(){$(".banner_item").css("display","block")}),$(".banner_nav li").on("mouseout",function(){$(".banner_item").css("display","none")}),$(".bannerMenu").on("mouseout",function(){$(".banner_item").css("display","none")});var inp=document.querySelector(".searchBtn");inp.addEventListener("input",function(){var n=this.value.trim(),a=document.createElement("script");a.src="https://www.baidu.com/sugrec?pre=1&p=3&ie=utf-8&json=1&prod=pc&from=pc_web&sugsid=33425,1444,33358,33306,31253,33286,33351,33313,33312,33311,33310,33413,33309,26350,33308,33307,22158,33389,33370&wd=".concat(n,"&req=2&csor=2&pwd=a&cb=bindHtml&_=1609848625420"),document.body.appendChild(a),a.remove()});var search_tips=document.querySelector(".search_tips");function bindHtml(n){var a;n.g?(a="",n.g.forEach(function(n){a+="\n    <li><a>".concat(n.q,"</a></li>\n    ")}),search_tips.innerHTML=a,search_tips.style.display="block"):search_tips.style.display="none"}var banner_text=document.querySelector(".banner_nav");banner_text.addEventListener("click",function(n){n=(n=n||window.event).target||n.srcElement;"A"==n.nodeName&&window.sessionStorage.setItem("listone",n.innerText)});var nickname=getCookie("nickname"),id=window.sessionStorage.getItem("id"),main=document.querySelector(".main");function bindTitle(){return _bindTitle.apply(this,arguments)}function _bindTitle(){return(_bindTitle=_asyncToGenerator(regeneratorRuntime.mark(function n(){var a,e,t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$.get("../server/getGeneral.php",{list_id:id},null,"json");case 2:e=n.sent,a=e.list,e="",e+='<div class="nav_bar">\n        <div class="nav_bar_one">\n            <h3 class="title">\n                '.concat(a[0].good_name,'\n                <a href="./GeneralDetails.html" class="buy">立即购买</a>\n                <a href="" class="evaluate">用户评价</a>\n            </h3>\n        </div>\n    </div>\n    <div class="nav_bar nav_bar_wap">\n        <div class="nav_bar_two">\n            <h3 class="title">\n                ').concat(a[0].good_name,'\n                <a href="./GeneralDetails.html" class="buy">立即购买</a>\n                <a href="" class="evaluate">用户评价</a>\n            </h3>\n        </div>\n    </div>'),main.innerHTML=e,t=document.querySelector(".nav_bar_two"),document.addEventListener("scroll",function(){205<=document.documentElement.scrollTop&&t.classList.add("active"),document.documentElement.scrollTop<205&&t.classList.remove("active")});case 9:case"end":return n.stop()}},n)}))).apply(this,arguments)}bindTitle();var data=JSON.parse(window.localStorage.getItem(id))||[],com=document.querySelector(".com");function bindComment(){for(var n="",a=0;a<data.length;a++){n+='\n        <div class="common">\n            <h4>'.concat(data[a].nickname,'</h4>\n            <div class="time">').concat(data[a].time,'</div>\n            <div class="text">\n                ').concat(data[a].val,'\n            </div>                \n            <i class="iconfont-like3 ').concat(-1==data[a].lick.indexOf(nickname)?"":"active",'" data-com="').concat(data[a].com_index,'"> (').concat(data[a].lick.length,')</i>\n            <div class="add_box"><input type="text" class="add_inp"><span class="add" data-com="').concat(data[a].com_index,'">回复</span></div>');for(var e=0;e<data[a].add.length;e++)n+='<div class="add_com">\n                            <h4>'.concat(data[a].add[e].nickname,'</h4>\n                            <div class="add_text">\n                                ').concat(data[a].add[e].val,"\n                            </div>  \n                        </div>");n+="\n        </div>"}window.localStorage.setItem(id,JSON.stringify(data)),com.innerHTML=n}bindComment();var longText=document.querySelector(".longText"),inpBtn=document.querySelector(".main_body .inp");inpBtn.addEventListener("click",function(){var n,a,e;nickname&&longText.value.trim()&&(n=longText.value.trim(),a=(e=new Date).getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),e=data.length?data[0].com_index+1:0,data.unshift({com_index:e,nickname:nickname,val:n,time:a,lick:[],add:[]}),longText.value="",bindComment())}),$(".main_body").on("click",".add",function(){var e=this;data.forEach(function(n){var a;n.com_index==$(e).attr("data-com")&&(a=$(e).siblings().val(),n.add.push({nickname:nickname,val:a}),bindComment())})}),$(".main_body").on("click","i",function(){var a=this;data.forEach(function(n){n.com_index==$(a).attr("data-com")&&(-1==n.lick.indexOf(nickname)?n.lick.push(nickname):n.lick.splice(n.lick.indexOf(nickname),1),bindComment())})});