"use strict";function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}$(function(){var n=0,e=!0,t=null,i=[],a=0,s=60*(parseInt(+new Date/60/60/1e3)+1)*60*1e3,c=document.querySelector(".countdown"),r=document.querySelector(".flash_time .round"),o=document.querySelector(".flash_time .desc"),l=(parseInt(+new Date/60/60/1e3)+8)%24;function d(){t=setInterval(function(){e&&(++n===$(".banner_image li").length&&(n=0),$(".point_box li").eq(n).addClass("active").siblings().removeClass("active"),$(".banner_image li").eq(n).fadeIn(1e3,"linear",function(){e=!0}).siblings().fadeOut(500,"linear"))},5e3)}d(),$(".left_right .right").click(function(){e&&(e=!1,++n===$(".banner_image li").length&&(n=0),$(".point_box li").eq(n).addClass("active").siblings().removeClass("active"),$(".banner_image li").eq(n).fadeIn(1e3,"linear",function(){e=!0}).siblings().fadeOut(500,"linear"))}),$(".left_right .left").click(function(){e&&(e=!1,-1===--n&&(n=$(".banner_image li").length-1),$(".point_box li").eq(n).addClass("active").siblings().removeClass("active"),$(".banner_image li").eq(n).fadeIn(1e3,"linear",function(){e=!0}).siblings().fadeOut(500,"linear"))}),$(".point_box").on("click","li",function(){e&&(e=!1,$(this).addClass("active").siblings().removeClass("active"),n=$(this).attr("data-index"),$(".banner_image li").eq(n).fadeIn(1e3,"linear",function(){e=!0}).siblings().fadeOut(500,"linear"))}),$(".banner_image").on("mousemove",function(){clearInterval(t)}),$(".banner_image").hover(function(){clearInterval(t)},function(){d()}),$(".left_right").hover(function(){clearInterval(t)},function(){d()}),$(".point_box").hover(function(){clearInterval(t)},function(){d()}),document.addEventListener("visibilitychange",function(){var n=document.visibilityState;"hidden"===n&&clearInterval(t),"visible"===n&&d()}),$(".car").hover(function(){$(".list_car_all").stop(),$(".list_car").css({color:"#ff6700","background-color":"#fff"}),$(".list_car_all").slideDown(200,"linear")},function(){$(".list_car_all").stop(),$(".list_car_all").slideUp(200,"linear",function(){$(".list_car").css({color:"#b0b0b0","background-color":"#424242"})})});for(var u=0;u<$(".search_tips a").length;u++)i.push($(".search_tips a").eq(u).text());var h=!0;$(".searchBtn").on("focus",function(){var e;h=!1,$(".search_tips").css("display","block").siblings().css("border","1px solid #ff6700"),$(".searchBtn").val()||(e="",i.forEach(function(n){e+="\n            <li><a>".concat(n,"</a></li>\n            "),search_tips.innerHTML=e}))}),$(".searchBtn").on("blur",function(){h=!0,$(".search_tips").css("display","none").siblings().css("border","1px solid #e0e0e0")}),$(".search").hover(function(){h&&$(".search_tips").siblings().css("border-color","#bbb")},function(){h&&$(".search_tips").siblings().css("border-color","#e0e0e0")}),setInterval(function(){++a==i.length&&(a=0),$(".searchBtn").attr("placeholder",i[a])},4e3);var v=!0;$(".header_nav a").on("mouseover",function(){v&&(v=!1,$(this).addClass("active").parent().siblings().find("a").removeClass("active"),$(this).attr("data-index")&&($(".searchBtn").trigger("blur"),$(".navMenu_list").eq($(this).attr("data-index")-1).addClass("active").siblings().removeClass("active"),$(".navMenu").css({height:"229px","border-top":"1px solid #e0e0e0","box-shadow":"0 3px 4px rgb(0, 0, 0,.18)"})))}),$(".navMenu").on("mouseover",function(){$(".navMenu").css({height:"229px","border-top":"1px solid #e0e0e0","box-shadow":"0 3px 4px rgb(0, 0, 0,.18)"})}),$(".header_nav a span").on("mouseover",function(){$(this).parent().addClass("active").parent().siblings().find("a").removeClass("active"),$(this).parent().attr("data-index")?($(".searchBtn").trigger("blur"),$(".navMenu_list").eq($(this).parent().attr("data-index")-1).addClass("active").siblings().removeClass("active"),$(".navMenu").css({height:"229px","border-top":"1px solid #e0e0e0","box-shadow":"0 3px 4px rgb(0, 0, 0,.18)"})):$(".navMenu").css({height:"0","border-top":"none","box-shadow":"none"})}),$(".header_nav").on("mouseleave",function(){v=!0,$(".header_nav li a").removeClass("active"),$(".navMenu").css({height:"0","border-top":"none","box-shadow":"none"})}),$(".navMenu").on("mouseleave",function(){$(".navMenu").css({height:"0","border-top":"none","box-shadow":"none"})}),$(".banner_nav li").on("mouseover",function(){$(".banner_item").css("display","block"),$(".bannerMenu").eq($(this).index()).addClass("active").siblings().removeClass("active")}),$(".bannerMenu").on("mouseover",function(){$(".banner_item").css("display","block")}),$(".banner_nav li").on("mouseout",function(){$(".banner_item").css("display","none")}),$(".bannerMenu").on("mouseout",function(){$(".banner_item").css("display","none")}),r.innerHTML="".concat(l=l<10?"0"+l:l,":00 场");var p=setInterval(function(){var n,e,t,i;s/1e3<parseInt(+new Date/1e3)+1&&s/1e3>parseInt(+new Date/1e3)-1&&(o.innerHTML="本场已结束",c.innerHTML="\n            <span>00</span>\n            <i>:</i>\n            <span>00</span>\n            <i>:</i>\n            <span>00</span>\n        ",clearInterval(p)),n=c,e=s,t=+new Date,i=(e-t)/1e3,e=(e=parseInt(i/24/60/60))<10?"0"+e:e,t=(t=parseInt(i/60/60%24))<10?"0"+t:t,e=(e=parseInt(i/60%60))<10?"0"+e:e,i=(i=parseInt(i%60))<10?"0"+i:i,i="\n            <span>".concat(t,"</span>\n            <i>:</i>\n            <span>").concat(e,"</span>\n            <i>:</i>\n            <span>").concat(i,"</span>\n        "),n.innerHTML=i},1e3);new Swiper(".flash_auto",{loop:!1,slidesPerView:4,slidesPerGroup:4,spaceBetween:14,loopFillGroupWithBlank:!1,loopPreventsSlide:!1,autoplay:!0,navigation:{nextEl:".flash_rt",prevEl:".flash_lt"}});new(function(){function t(n,e){_classCallCheck(this,t),this.ele=document.querySelector(n),this.data=e,this.str="",this.index=0,this.init()}return _createClass(t,[{key:"init",value:function(){this.judge(),this.tabContent()}},{key:"judge",value:function(){for(var n=1;n<this.data.length;n++)"cells_auto_fill"==this.data[n].view_type&&this.bindAdvertisement(this.data[n].body),"list_eight_product"==this.data[n].view_type&&this.bindList(this.data[n].body),"list_eight_product_tab"==this.data[n].view_type&&this.bindTab(this.data[n].body),"list_four_video"==this.data[n].view_type&&this.bindVideo(this.data[n].body);this.ele.innerHTML=this.str}},{key:"bindAdvertisement",value:function(n){this.str+='\n                <div class="home-banner-box">\n                    <a href="">\n                        <img src="'.concat(n.items[0].img_url,'">\n                    </a>\n                </div>\n            ')}},{key:"bindList",value:function(n){this.str+='\n                <div class="home-brick-box">\n                    <div class="box-hd">\n                        <h2 class="title">'.concat(n.floor_name,'</h2>\n                        <div class="more">\n                            <a href="">').concat(n.more_text,'<i class="iconfont-arrow-right-big"></i></a>\n                        </div>\n                    </div>\n                    <ul class="brick-promo-list">\n                        <li class="brick_item">\n                            <a href="">\n                                <img src="').concat(n.left_ad.items[0].img_url,'">\n                            </a>\n                        </li>   \n                    </ul>\n                    <ul class="brick-list">');for(var e=0;e<n.product_list.length;e++)this.str+='\n                    <li class="brick_item">\n                        <a href="">\n                            <div class="figure-img">\n                                <img src="'.concat(n.product_list[e].img_url,'">\n                            </div>\n                            <h3 class="title">').concat(n.product_list[e].product_name,'</h3>\n                            <p class="desc">').concat(n.product_list[e].product_brief,'</p>\n                            <p class="price">\n                                <span class="num">').concat(n.product_list[e].product_price,"</span>元<span>起</span>\n                            </p>\n                        </a>\n                    </li>\n                ");this.str+="\n                    </ul>\n                </div>\n            "}},{key:"bindTab",value:function(n){this.str+='\n                <div class="home-brick-box">\n                    <div class="box-hd">\n                        <h2 class="title">'.concat(n.floor_name,'</h2>\n                        <div class="more">\n                            <ul class="tab-list">');for(var e=0;e<n.tab_content.length;e++)this.str+="\n                <li class=".concat(0==e?"active":"",' data-index="').concat(e,'">').concat(n.tab_content[e].tab_name,"</li>\n            ");this.str+=' \n                            </ul>\n                        </div>\n                    </div>\n                    <ul class="brick-promo-list">\n                    ';for(var t=0;t<n.left_ad.items.length;t++)this.str+='\n                <li class="brick_item">\n                    <a href="">\n                        <img src="'.concat(n.left_ad.items[t].img_url,'">\n                    </a>\n                </li>\n            ');this.str+="\n                    </ul>\n                ";for(var i=0;i<n.tab_content.length;i++){this.str+='\n                <ul class="brick-list '.concat(0==i?"active":"",' brick-tab" data-index="').concat(i,'">\n                ');for(var a=0;a<n.tab_content[i].product_list.length;a++)this.str+='\n                    <li class="brick_item">\n                        <a href="">\n                            <div class="figure-img">\n                                <img src="'.concat(n.tab_content[i].product_list[a].img_url,'">\n                            </div>\n                            <h3 class="title">').concat(n.tab_content[i].product_list[a].product_name,'</h3>\n                            <p class="desc">').concat(n.tab_content[i].product_list[a].product_brief,'</p>\n                            <p class="price">\n                                <span class="num">').concat(n.tab_content[i].product_list[a].product_price,'</span>元\n                                <del>\n                                    <span class="num">').concat(n.tab_content[i].product_list[a].product_org_price,"</span>元\n                                </del>\n                            </p>\n                        </a>\n                    </li>\n                ");this.str+='\n                    <li class=" brick_item brick_item_more">\n                        <a href="">\n                            <div>\n                                浏览更多\n                                <span>热门</span>\n                            </div>\n                            <div><i class="iconfont-circle-arrow-right"></i></div>\n                        </a>\n                    </li>\n                </ul>\n            '}this.str+="\n                </div>\n            ",this.index++}},{key:"tabContent",value:function(){document.querySelectorAll(".tab-list li").forEach(function(n){n.addEventListener("mouseover",function(){$(this).addClass("active").siblings().removeClass("active"),$(this).parents(".home-brick-box").find(".brick-tab").removeClass("active").eq($(this).index()).addClass("active")})})}},{key:"bindVideo",value:function(n){this.str+='\n                <div class="home-video-box">\n                    <div class="box-hd">\n                        <h2 class="title">'.concat(n.floor_name,'</h2>\n                        <div class="more">\n                            <a href="">').concat(n.more_text,'<i class="iconfont-arrow-right-big"></i></a>\n                        </div>\n                    </div>\n                    <ul class="video-list">\n                    ');for(var e=0;e<n.items.length;e++)this.str+='\n                <li class="video-item">\n                    <a href="'.concat(n.items[e].video_url,'">\n                        <div class="figure-img">\n                            <img src="').concat(n.items[e].img_url,'">\n                            <span class="play">\n                                <i class="iconfont-play"></i>\n                            </span>\n                        </div>\n                        <h3 class="title">').concat(n.items[e].title,'</h3>\n                        <p class="desc">').concat(n.items[e].subtitle,"</p>\n                    </a>\n                </li>\n            ");this.str+="\n                    </ul>\n                </div>\n            "}}]),t}())(".mainList",$GLOBAL_HOME.goodsFloorData);var b=document.querySelector(".right_nav");b.addEventListener("mouseover",function(n){n=(n=n||window.event).target||n.srcElement;"A"===n.nodeName&&(n.children[0].children[0].classList.remove("active"),n.children[0].children[1].classList.add("active"))}),b.addEventListener("mouseout",function(n){n=(n=n||window.event).target||n.srcElement;"A"===n.nodeName&&(n.children[0].children[1].classList.remove("active"),n.children[0].children[0].classList.add("active"))}),b.addEventListener("click",function(n){-1!=((n=n||window.event).target||n.srcElement).className.indexOf("re")&&document.documentElement.scrollTo({top:0,behavior:"smooth"})}),document.addEventListener("scroll",function(){900<=document.documentElement.scrollTop&&b.children[5].classList.add("active"),document.documentElement.scrollTop<900&&b.children[5].classList.remove("active")})});var nav_right=document.querySelector(".nav .right");function bindLogin(n,e){var t="";t+='\n        <div class="right">\n            <span class="on '.concat(e?"active":"",'">\n                <a href="./login.html">登录</a><span>|</span>\n                <a href="./login.html">注册</a><span>|</span>\n            </span>\n            <span class="off ').concat(e?"active":"",'">\n                <ul>\n                    <li><a>').concat(e,'<i class="iconfont-arrow-down-mini"></i></a></li>\n                    <li><a href="./PersonalCenter.html">个人中心</a></li>\n                    <li><a href="">评价晒单</a></li>\n                    <li><a href="">我的喜欢</a></li>\n                    <li><a href="">小米账户</a></li>\n                    <li><a href="">退出登录</a></li>\n                </ul>\n            </span>\n            <span>|</span><a class="tongzhi" href="">消息通知</a>\n            \x3c!-- 购物车 --\x3e\n            <div class="car">\n                <a class="list_car" href="./cart.html"><span class="iconfont-cart"></span>购物车<span> (0) </span></a>\n                \x3c!-- 购物车下拉菜单 --\x3e\n                <div class="list_car_all">购物车中还没有商品赶紧选购吧</div>\n            </div>\n        </div>'),n.innerHTML=t}getCookie("nickname")&&bindLogin(nav_right,getCookie("nickname"));var inp=document.querySelector(".searchBtn");inp.addEventListener("input",function(){var n=this.value.trim(),e=document.createElement("script");e.src="https://www.baidu.com/sugrec?pre=1&p=3&ie=utf-8&json=1&prod=pc&from=pc_web&sugsid=33425,1444,33358,33306,31253,33286,33351,33313,33312,33311,33310,33413,33309,26350,33308,33307,22158,33389,33370&wd=".concat(n,"&req=2&csor=2&pwd=a&cb=bindHtml&_=1609848625420"),document.body.appendChild(e),e.remove()});var search_tips=document.querySelector(".search_tips");function bindHtml(n){var e;n.g?(e="",n.g.forEach(function(n){e+="\n            <li><a>".concat(n.q,"</a></li>\n            ")}),search_tips.innerHTML=e,search_tips.style.display="block"):search_tips.style.display="none"}var banner_text=document.querySelector(".banner_nav");banner_text.addEventListener("click",function(n){n=(n=n||window.event).target||n.srcElement;"A"==n.nodeName&&window.sessionStorage.setItem("listone",n.innerText)});